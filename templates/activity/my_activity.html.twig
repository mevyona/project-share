{% extends 'base.html.twig' %}

{% block title %}Mon Activité
{% endblock %}

{% block body %}
	<div class="container mt-4">
		<div class="row">
			<div class="col-12">
				<h1 class="mb-4">Mon Historique d'Activité</h1>

				<div class="card">
					<div class="card-header">
						<h5 class="mb-0">Mes dernières actions</h5>
					</div>
					<div class="card-body p-0">
						{% if activities is empty %}
							<div class="p-4 text-center text-muted">
								Aucune activité enregistrée
							</div>
						{% else %}
							<div class="table-responsive">
								<table class="table table-hover mb-0">
									<thead>
										<tr>
											<th width="60"></th>
											<th>Action</th>
											<th>Détails</th>
											<th>Date</th>
											<th>IP</th>
										</tr>
									</thead>
									<tbody>
										{% for activity in activities %}
											<tr>
												<td class="text-center">
													<span style="font-size: 1.5rem;">{{ activity.actionIcon }}</span>
												</td>
												<td>
													<strong>{{ activity.actionLabel }}</strong>
												</td>
												<td>
													{% if activity.details %}
														<small class="text-muted">{{ activity.details }}</small>
													{% else %}
														<small class="text-muted">-</small>
													{% endif %}
												</td>
												<td>
													<small>{{ activity.createdAt|date('d/m/Y H:i:s') }}</small>
												</td>
												<td>
													<small class="text-muted">{{ activity.ipAddress }}</small>
												</td>
											</tr>
										{% endfor %}
									</tbody>
								</table>
							</div>
						{% endif %}
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
