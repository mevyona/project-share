<!doctype html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>
			{% block title %}Share -
			{% endblock %}
		</title>

		{% block stylesheets %}
			<link href="https://bootswatch.com/5/lumen/bootstrap.min.css" rel="stylesheet">
			{{ encore_entry_link_tags('app') }}

			<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrapicons.css">
		{% endblock %}
	</head>

	<body {% if is_granted('IS_AUTHENTICATED_FULLY') %} data-authenticated="true" {% endif %}>

		<nav class="navbar navbar-expand-lg bg-light" data-bs-theme="light">
			<div class="container-fluid">
				<a class="navbar-brand" href="{{ path('app_accueil') }}">Navbar</a>

				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarColor03">
					<ul class="navbar-nav me-auto">

						<li class="nav-item">
							<a class="nav-link active" href="{{ path('app_accueil') }}">
								Home
								<span class="visually-hidden">(current)</span>
							</a>
						</li>

						{% if not is_granted('IS_AUTHENTICATED_FULLY') %}
							<li class="nav-item">
								<a class="nav-link" href="{{ path('app_login') }}">Connexion</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="{{ path('app_inscription') }}">Inscription</a>
							</li>

						{% else %}
							{% if is_granted('ROLE_ADMIN') %}
								<li class="nav-item">
									<a class="nav-link" href="{{ path('admin_user_index') }}">Administration</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="{{ path('app_activity_all') }}">ActivitÃ© Globale</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="{{ path('app_liste_fichiers') }}">La liste des fichiers</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="{{ path('app_old_passwords') }}">Mots de passe expirÃ©s</a>
								</li>
								<li class="nav-item">
									<a class="nav-link" href="{{ path('app_top_users') }}">Top users</a>
								</li>
							{% endif %}

							<li class="nav-item">
								<a class="nav-link" href="{{ path('app_my_activity') }}">Mon ActivitÃ©</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="{{ path('app_ajout_fichier') }}">Ajouter des fichiers</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="{{ path('app_mes_fichiers') }}">Mes fichiers</a>
							</li>

						{% endif %}

						<li class="nav-item">
							<a class="nav-link" href="#">About</a>
						</li>

					</ul>

					<div class="d-flex align-items-center gap-2">
						{% if app.user %}
							<button type="button" class="btn btn-outline-primary btn-sm" id="testNotificationBtn">Test Notification</button>

							{{ include('notification/_bell.html.twig') }}

							<button id="dark-mode-toggle" class="btn btn-outline-secondary btn-sm">
								ðŸŒ™ Mode sombre
							</button>

							<a class="nav-link" href="{{ path('app_logout') }}">
								{{ app.user.email }}
								<i class="bi bi-x-circle-fill"></i>
							</a>
						{% endif %}
					</div>

				</div>
			</div>
		</nav>

		{% block body %}{% endblock %}

		{% block javascripts %}
			{{ encore_entry_script_tags('app') }}
			{{ encore_entry_script_tags('notifications') }}
			{{ encore_entry_script_tags('session-activity') }}
			{{ encore_entry_script_tags('delete_confirm') }}
			{{ encore_entry_script_tags('user_quick_search') }}
			{{ encore_entry_script_tags('dark_mode') }}

			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
		{% endblock %}

	</body>
</html>
