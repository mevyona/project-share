{% extends 'base.html.twig' %}

{% block title %}Changer votre mot de passe
{% endblock %}

{% block body %}
	<div class="container mt-5">
		<h1 class="mb-4">Changer votre mot de passe</h1>

		{% for label, messages in app.flashes %}
			{% for message in messages %}
				<div class="alert alert-{{ label }} text-dark alert-dismissible fade show" role="alert">
					{{ message }}
					<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
				</div>
			{% endfor %}
		{% endfor %}

		<div class="card shadow-sm p-4">
			<form method="post">

				<div class="mb-3">
					<label class="form-label fw-bold text-primary">Votre email</label>
					<input type="email" id="email" name="email" class="form-control" placeholder="Entrez votre email" required>
				</div>

				<div class="mb-3">
					<label class="form-label">Nouveau mot de passe</label>

					<div class="input-group">
						<input type="password" name="password" id="registration_form_plainPassword" class="form-control" placeholder="Nouveau mot de passe" required>

						<button type="button" id="toggle-password" class="btn btn-outline-secondary">
							Voir
						</button>
					</div>

					<div id="password-strength-wrapper" class="mt-2">
						<div id="password-strength-bar"></div>
						<small id="password-strength-text" class="text-muted"></small>
					</div>
				</div>

				<button id="submit-btn" type="submit" class="btn btn-primary mt-3">Changer le mot de passe</button>
			</form>
		</div>

		<p class="mt-3">
			<a href="{{ path('app_login') }}" class="btn btn-secondary">Retour Ã  la connexion</a>
		</p>
	</div>
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	{{ encore_entry_script_tags('form-validation') }}
	{{ encore_entry_script_tags('toggle-password') }}
	{{ encore_entry_script_tags('password-strength') }}
{% endblock %}
